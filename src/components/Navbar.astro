<nav
  id="navbar"
  class="bg-gray-800 bg-opacity-90 text-white p-2 pt-4 pb-4 shadow-md fixed top-0 left-0 w-full z-[200] rounded-b-lg"
>
  <div class="container mx-auto flex justify-between items-center">
    <!-- Logo -->
    <div class="text-2xl font-bold text-white">
      <h1>Mi Portafolio</h1>
    </div>

    <!-- Desktop menu -->
    <ul id="nav-links" class="hidden md:flex space-x-6">
      <li>
        <a
          href="#about"
          class="hover:text-gray-400 transition-all duration-300 ease-in-out"
          >Acerca de mí</a
        >
      </li>
      <li>
        <a
          href="#projects"
          class="hover:text-gray-400 transition-all duration-300 ease-in-out"
          >Proyectos</a
        >
      </li>
      <li>
        <a
          href="#skills-tree"
          class="hover:text-gray-400 transition-all duration-300 ease-in-out"
          >Habilidades</a
        >
      </li>
      <li>
        <a
          href="#contact"
          class="hover:text-gray-400 transition-all duration-300 ease-in-out"
          >Contacto</a
        >
      </li>
    </ul>

    <!-- Mobile menu button -->
    <button
      id="menu-toggle"
      class="md:hidden text-white text-3xl p-2 rounded-lg hover:bg-gray-700 transition-all duration-300 ease-in-out"
    >
      <img src="/icons/menu.svg" alt="Menu" class="w-6 h-6 invert" />
    </button>
  </div>

  <!-- Mobile dropdown menu -->
  <div
    id="mobile-menu"
    class="md:hidden bg-gray-800 text-white w-full opacity-0 translate-y-[-10px] transition-all duration-500 ease-out border-t border-gray-600 hidden"
  >
    <ul class="space-y-4 px-6 py-4">
      <li
        class="border-b border-l w-3/4 border-gray-600 pl-2 rounded-lg shadow-md hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300 ease-in-out"
      >
        <a
          href="#about"
          class="block py-2 hover:text-gray-400 transition-all duration-300 ease-in-out"
          >Acerca de mí</a
        >
      </li>
      <li
        class="border-b border-l w-2/4 border-gray-600 pl-2 rounded-lg shadow-md hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300 ease-in-out"
      >
        <a
          href="#projects"
          class="block py-2 hover:text-gray-400 transition-all duration-300 ease-in-out"
          >Proyectos</a
        >
      </li>
      <li
        class="border-b border-l w-3/4 border-gray-600 pl-2 rounded-lg shadow-md hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300 ease-in-out"
      >
        <a
          href="#skills-tree"
          class="block py-2 hover:text-gray-400 transition-all duration-300 ease-in-out"
          >Habilidades</a
        >
      </li>
      <li
        class="border-b border-l w-2/4 border-gray-600 pl-2 rounded-lg shadow-md hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300 ease-in-out"
      >
        <a
          href="#contact"
          class="block py-2 hover:text-gray-400 transition-all duration-300 ease-in-out"
          >Contacto</a
        >
      </li>
    </ul>
  </div>
</nav>

<!-- Script to toggle the mobile menu -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuToggle = document.getElementById("menu-toggle")!;
    const mobileMenu = document.getElementById("mobile-menu")!;

    // Toggle menu visibility on button click
    menuToggle.addEventListener("click", () => {
      if (mobileMenu.classList.contains("hidden")) {
        // Show menu with animation
        mobileMenu.classList.remove("hidden");
        setTimeout(() => {
          mobileMenu.classList.remove("opacity-0", "translate-y-[-10px]");
          mobileMenu.classList.add("opacity-100", "translate-y-0");
        }, 10); // Timeout to ensure the transition runs smoothly
      } else {
        // Hide menu with fade-out animation
        mobileMenu.classList.add("opacity-0", "translate-y-[-10px]");
        mobileMenu.classList.remove("opacity-100", "translate-y-0");

        // Delay hiding the menu to allow the animation to finish
        setTimeout(() => {
          mobileMenu.classList.add("hidden");
        }, 100);
      }

      // Close menu when clicking a link
      document.querySelectorAll("#mobile-menu a").forEach((link) => {
        link.addEventListener("click", () => {
          mobileMenu.classList.add("opacity-0", "translate-y-[-10px]");
          mobileMenu.classList.remove("opacity-100", "translate-y-0");

          // Delay hiding the menu to allow the animation to finish
          setTimeout(() => {
            mobileMenu.classList.add("hidden");
          }, 300);
        });
      });
    });
  });
</script>
